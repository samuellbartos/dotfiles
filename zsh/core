# MISC

# home-brew doctor recommends
if [ -d "/opt/homebrew/bin" ] ; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
elif [ -d "/usr/local/bin" ] ; then
  eval "$(/usr/local/bin/brew shellenv)"
fi

# xdg compliance
export PATH="$XDG_BIN_HOME:$PATH"

# defaut editor
export EDITOR='nvim'


# ALIASES
alias l='ls -lahFGT'
alias tz='for i in $(seq 1 5); do time zsh -i -c exit; done'


# PAGER SETTINGS
export LESS="--quit-if-one-screen --no-init --IGNORE-CASE --RAW-CONTROL-CHARS --tabs=4"
export LESSHISTFILE=-


# HISTORY SETTING
export HISTFILE="$XDG_STATE_HOME"/zsh/history  # zsh history file location

setopt inc_append_history  # append every command once it is executed
setopt share_history  # reload history whenever used
setopt hist_ignore_space  # ignore command starting with space
setopt hist_ignore_dups  # ignore command from history if it is identical to the previous one
setopt hist_find_no_dups  # Do not display a previously found event.
setopt hist_save_no_dups  # do not write a duplicate event to the history file.
setopt hist_ignore_all_dups  # delete an old recorded event if a new event is a duplicate.


# COMMAND LINE

# setup autocompletions
export ZCOMPDUMP="$XDG_CACHE_HOME/zsh/zcompdump"
autoload -Uz compinit
# only run full compinit once per day
[ ! "$(find $ZCOMPDUMP -mtime -1 2>/dev/null)" ] && compinit -d $ZCOMPDUMP || compinit -C -d $ZCOMPDUMP

setopt no_auto_menu  # dont cycle between ambiguous completions

# emacs key bindings
bindkey -e

# disable highlighting of pasted text
zle_highlight=('paste:none')

# edit command line
autoload -Uz edit-command-line
zle -N edit-command-line
bindkey '^xe' edit-command-line
bindkey '^x^e' edit-command-line

# ls colors
export LSCOLORS=exdxxxxxbxbxxxxxxxxxxx
