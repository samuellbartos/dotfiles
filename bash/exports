# core
export EDITOR=nvim
export LESS="--quit-if-one-screen --no-init --IGNORE-CASE --RAW-CONTROL-CHARS --tabs=4"
export LSCOLORS=exdxxxxxbxbxxxxxxxxxxx

# language
export LANG="en_US.UTF-8"

# history
export LESSHISTFILE=-
export HISTFILE="$XDG_STATE_HOME/bash/history"  # zsh history file location
export HISTCONTROL=ignoreboth

# brew
if [ -d "/usr/local" ] ; then
  export BREW_PREFIX=/usr/local
elif [ -d "/opt/homebrew/bin" ] ; then
  export BREW_PREFIX=/opt/homebrew
fi

# ripgrep
# export RIPGREP_CONFIG_PATH="$XDG_CONFIG_HOME/rg/config"

# fzf
eval "$(fzf --bash)"
export FZF_DEFAULT_OPTS_FILE="$XDG_CONFIG_HOME/fzf/config"
export FZF_DEFAULT_COMMAND='rg --files --hidden --glob \!.git'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"

# aws
export AWS_SHARED_CREDENTIALS_FILE="$XDG_CONFIG_HOME/aws/credentials"
export AWS_CONFIG_FILE="$XDG_CONFIG_HOME/aws/config"

# python
export PYTHONDONTWRITEBYTECODE=1
export PYTHONUNBUFFERED=1

# python virtualenv
export VIRTUAL_ENV_DISABLE_PROMPT=1  # don't modify the prompt
export VENV="$XDG_DATA_HOME/python/venv/default"  # venv location
[ ! -d "$VENV" ] && "$BREW_PREFIX/opt/python/libexec/bin/python" -m venv "$VENV"  # create using brew python
source "$VENV/bin/activate"

# ipython
export IPYTHONDIR="$XDG_CONFIG_HOME/ipython"

# ghcup
export GHCUP_USE_XDG_DIRS=1

# cabal
export CABAL_CONFIG="$XDG_CONFIG_HOME/cabal/config"

# bash completions
# [[ -r "$BREW_PREFIX/etc/bash_completion.d/git-completion.bash" ]] && source "$BREW_PREFIX/etc/bash_completion.d/git-completion.bash"
